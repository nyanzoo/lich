version: 3

tasks:
  put:
    cmds:
      - RUST_BACKTRACE=full RUST_LOG=info cargo run --release -- -H 127.0.0.1 -p 666 put-only --key-set cat --value-size 128 --count 100000
      # OOM at 1 million

  put_and_get:
    cmds:
      - RUST_BACKTRACE=full RUST_LOG=info cargo run --release -- -H 127.0.0.1 -p 666 put-and-get --key-set cat --value-size 128 --count 100000 --distribution 0.5
